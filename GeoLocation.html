<!DOCTYPE html>
<html>
<head>
    <title>Distance to KBU Romklao Campus</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        
        .card {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 40px;
            width: 100%;
            max-width: 450px;
            text-align: center;
        }
        
        h1 {
            color: #2c3e50;
            margin: 0 0 25px;
            font-size: 28px;
        }
        
        .campus {
            color: #e74c3c;
            font-weight: 600;
        }
        
        .btn {
            background: linear-gradient(to right, #3498db, #2ecc71);
            color: white;
            border: none;
            padding: 14px 32px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            margin: 15px 0;
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(46, 204, 113, 0.4);
        }
        
        .result {
            font-size: 22px;
            color: #2c3e50;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 10px;
            margin: 25px 0;
            display: none;
            border-left: 5px solid #2ecc71;
        }
        
        .distance {
            font-size: 28px;
            color: #e74c3c;
            font-weight: 700;
        }
        
        .error {
            color: #e74c3c;
            padding: 15px;
            background-color: #fdecea;
            border-radius: 8px;
            display: none;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>Distance to <span class="campus">KBU Romklao Campus</span></h1>
        <p>Min Buri, Bangkok, Thailand</p>
        
        <button class="btn" onclick="getLocation()">
            üìç Check My Distance
        </button>
        
        <div id="result" class="result"></div>
        <div id="error" class="error"></div>
    </div>

    <script>
        // Kasem Bundit University - Romklao Campus Coordinates
        const KBU_ROMKLAO = {
            lat: 13.8134,  // Updated coordinates for Romklao campus
            lng: 100.7325,
            name: "Kasem Bundit University (Romklao Campus)"
        };

        function getLocation() {
            const result = document.getElementById("result");
            const error = document.getElementById("error");

            // Reset display
            result.style.display = "none";
            error.style.display = "none";

            if (!navigator.geolocation) {
                showError("Your browser doesn't support location services");
                return;
            }

            navigator.geolocation.getCurrentPosition(
                position => {
                    const userLat = position.coords.latitude;
                    const userLng = position.coords.longitude;
                    const distance = calculateDistance(userLat, userLng, KBU_ROMKLAO.lat, KBU_ROMKLAO.lng);
                    showResult(distance);
                },
                err => {
                    if (err.code === 1) {
                        showError("Please enable location permissions in your browser settings");
                    } else {
                        showError("Unable to determine your location. Please try again.");
                    }
                },
                { enableHighAccuracy: true, timeout: 10000 }
            );
        }

        function showResult(distance) {
            const result = document.getElementById("result");
            result.innerHTML = `
                You are <span class="distance">${distance.toFixed(2)} km</span>
                <br>from ${KBU_ROMKLAO.name}
            `;
            result.style.display = "block";
        }

        function showError(message) {
            const error = document.getElementById("error");
            error.textContent = message;
            error.style.display = "block";
        }

        // Haversine distance calculation
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371;
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = 
                Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
                Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }
    </script>
</body>
</html>